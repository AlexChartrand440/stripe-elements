System.register(["./lit-html-d4bb504d.js","./storybook-deb9934b.js","./lit-element-ba2ebbe8.js","./codesandbox-button-b2b98b59.js","./storybook-helpers-77e3c655.js","./stripe-elements-829b7507.js"],(function(e){"use strict";var t,n,i,r,s,a,o,u,p,l,d,c,m,h,b,y,f,g,k;return{setters:[function(e){t=e.l,n=e.a,i=e.b,r=e.d,s=e.e,a=e.f,o=e.p,u=e.k,p=e.o,l=e.s},function(e){d=e.f,c=e.u,m=e.t,h=e.X,b=e.Y},function(e){y=e.c,f=e.L},function(){},function(e){g=e.c,k=e.p},function(){}],execute:function(){function v(){var e=u(['<fallback-form publishable-key="','"> </fallback-form>']);return v=function(){return e},e}function S(){var e=u(['\n                <output ?hidden="','">Payment Request is ','supported on this Browser</output>\n                <stripe-payment-request\n                    ?hidden="','"\n                    @success="','"\n                    @fail="','"\n                    @error="','"\n                    @unsupported="','"\n                    @ready="','"\n                    publishable-key="','"\n                    generate="source"\n                    request-payer-name\n                    request-payer-email\n                    request-payer-phone\n                    amount="326"\n                    label="Double Double"\n                    country="CA"\n                    currency="cad">\n                  <stripe-display-item data-amount="125" data-label="Double Double"> </stripe-display-item>\n                  <stripe-display-item data-amount="199" data-label="Box of 10 Timbits"> </stripe-display-item>\n                  <stripe-shipping-option data-id="pick-up" data-label="Pick Up" data-detail="Pick Up at Your Local Timmy\'s" data-amount="0"> </stripe-shipping-option>\n                  <stripe-shipping-option data-id="delivery" data-label="Delivery" data-detail="Timbits to Your Door" data-amount="200"> </stripe-shipping-option>\n                </stripe-payment-request>\n                <stripe-elements\n                    ?hidden="','"\n                    generate="source"\n                    publishable-key="','"\n                    @change="','"\n                    @source="','"\n                    @error="','"\n                > </stripe-elements>\n                <mwc-button\n                    ?hidden="','"\n                    ?disabled="','"\n                    @click="','"\n                >Submit</mwc-button>\n                <json-viewer .object="','"> </json-viewer>\n              ']);return S=function(){return e},e}function w(){var e=u(['[hidden]{display:none!important}:host{font-family:"Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;align-items:center;display:grid;grid-gap:12px;grid-template-areas:\'support support\' \'stripe submit\' \'output output\'}stripe-elements{grid-area:stripe}stripe-payment-request{grid-area:submit/stripe/stripe/submit}mwc-button{grid-area:submit}json-viewer{grid-area:output}']);return w=function(){return e},e}function E(){var e=u(['\n    <mwc-textfield id="publishable-key-input"\n        outlined\n        helperpersistent\n        label="Publishable Key"\n        helper="NOTE: the input will store the publishable key in localstorage for your convenience."\n        value="','"\n        @change="','">\n    </mwc-textfield>']);return E=function(){return e},e}function q(){var e=u(['<fallback-form publishable-key="','"> </fallback-form>']);return q=function(){return e},e}function D(){var e=u(['\n                <output ?hidden="','">Payment Request is ','supported on this Browser</output>\n                <stripe-payment-request\n                    ?hidden="','"\n                    @success="','"\n                    @fail="','"\n                    @error="','"\n                    @unsupported="','"\n                    @ready="','"\n                    publishable-key="','"\n                    generate="source"\n                    request-payer-name\n                    request-payer-email\n                    request-payer-phone\n                    amount="326"\n                    label="Double Double"\n                    country="CA"\n                    currency="cad">\n                  <stripe-display-item data-amount="125" data-label="Double Double"> </stripe-display-item>\n                  <stripe-display-item data-amount="199" data-label="Box of 10 Timbits"> </stripe-display-item>\n                  <stripe-shipping-option data-id="pick-up" data-label="Pick Up" data-detail="Pick Up at Your Local Timmy\'s" data-amount="0"> </stripe-shipping-option>\n                  <stripe-shipping-option data-id="delivery" data-label="Delivery" data-detail="Timbits to Your Door" data-amount="200"> </stripe-shipping-option>\n                </stripe-payment-request>\n                <stripe-elements\n                    ?hidden="','"\n                    generate="source"\n                    publishable-key="','"\n                    @change="','"\n                    @source="','"\n                    @error="','"\n                > </stripe-elements>\n                <mwc-button\n                    ?hidden="','"\n                    ?disabled="','"\n                    @click="','"\n                >Submit</mwc-button>\n                <json-viewer .object="','"> </json-viewer>\n              ']);return D=function(){return e},e}function P(){var e=u(['[hidden]{display:none!important}:host{font-family:"Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;align-items:center;display:grid;grid-gap:12px;grid-template-areas:\'support support\' \'stripe submit\' \'output output\'}stripe-elements{grid-area:stripe}stripe-payment-request{grid-area:submit/stripe/stripe/submit}mwc-button{grid-area:submit}json-viewer{grid-area:output}']);return P=function(){return e},e}function x(){var e=u(['\n    <mwc-textfield id="publishable-key-input"\n        outlined\n        helperpersistent\n        label="Publishable Key"\n        helper="NOTE: the input will store the publishable key in localstorage for your convenience."\n        value="','"\n        @change="','">\n    </mwc-textfield>']);return x=function(){return e},e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var j={};function C(e){var o=e.components,u=l(e,["components"]);return d("wrapper",N({},j,u,{components:o,mdxType:"MDXLayout"}),d(b,{title:"Fallback to Stripe Elements",parameters:{options:{selectedPanel:"storybookjs/docs/panel"}},mdxType:"Meta"}),d("h1",null,"Fallback to Stripe Elements"),d("p",null,"You might often want to show users a ",d("inlineCode",{parentName:"p"},"<stripe-payment-request>")," button if they\nare able (i.e. if ",d("inlineCode",{parentName:"p"},"canMakePayment")," is true), but fall back to a\n",d("inlineCode",{parentName:"p"},"<stripe-elements>")," card form if they are not."),d("p",null,"To accomplish this, listen for the ",d("inlineCode",{parentName:"p"},"unsupported")," and ",d("inlineCode",{parentName:"p"},"ready")," events on\n",d("inlineCode",{parentName:"p"},"<stripe-payment-request>"),", which fire when the element is finally unable or\nable to display a Payment Request button, respectively."),d("p",null,"We recommend that you don't set ",d("inlineCode",{parentName:"p"},"publishable-key")," on ",d("inlineCode",{parentName:"p"},"<stripe-elements>")," until\n",d("inlineCode",{parentName:"p"},"unsupported")," fires from ",d("inlineCode",{parentName:"p"},"<stripe-payment-request>"),", as setting the publishable\nkey will kick off the element's initialization, even if payment request is\nsupported."),d("p",null,"Enter your publishable key here (use the test key, not the production key) to\nrun the examples against your Stripe account."),d(m,{name:"Enter a Publishable Key",height:"80px",mdxType:"Story"},t(x(),k,g("fallback-form"))),d(h,{mdxType:"Preview"},d(m,{name:"Falling Back to Stripe Elements When Payment Request is Not Supported",mdxType:"Story"},(function(){return customElements.get("fallback-form")||customElements.define("fallback-form",function(e){function o(){var e;return r(this,o),(e=s(this,a(o).call(this))).submitDisabled=!0,e}return n(o,e),i(o,null,[{key:"properties",get:function(){return{error:{type:Object},output:{type:Object},unsupported:{type:Boolean},publishableKey:{type:String,attribute:"publishable-key"},submitDisabled:{type:Boolean}}}},{key:"styles",get:function(){return y(P())}}]),i(o,[{key:"render",value:function(){return t(D(),void 0===this.unsupported,this.unsupported?"un":"",this.output||this.unsupported,this.onSuccess,this.onFail,this.onError,this.onUnsupported,this.onReady,p(this.publishableKey),this.output||!this.unsupported,p(this.unsupported?this.publishableKey:void 0),this.onChange,this.onSuccess,this.onError,this.output||!this.unsupported,this.submitDisabled,this.onClick,this.output)}},{key:"onChange",value:function(e){var t=e.target,n=t.complete,i=t.hasError;this.submitDisabled=!(n&&!i)}},{key:"onClick",value:function(){this.shadowRoot.querySelector("stripe-elements").submit()}},{key:"onError",value:function(e){var t=e.target.error;this.error=t}},{key:"onFail",value:function(e){this.output=e.detail}},{key:"onReady",value:function(){this.unsupported=!1}},{key:"onSuccess",value:function(e){this.output=e.detail}},{key:"onUnsupported",value:function(){this.unsupported=!0}}]),o}(f)),t(q(),k)}))))}C.isMDXComponent=!0;var T=e("enterAPublishableKey",(function(){return t(E(),k,g("fallback-form"))}));T.story={},T.story.name="Enter a Publishable Key",T.story.parameters={mdxSource:'html`\n    <mwc-textfield id="publishable-key-input"\n        outlined\n        helperpersistent\n        label="Publishable Key"\n        helper="NOTE: the input will store the publishable key in localstorage for your convenience."\n        value="${publishableKey}"\n        @change="${setKeys(\'fallback-form\')}">\n    </mwc-textfield>`'};var K=e("fallingBackToStripeElementsWhenPaymentRequestIsNotSupported",(function(){return customElements.get("fallback-form")||customElements.define("fallback-form",function(e){function o(){var e;return r(this,o),(e=s(this,a(o).call(this))).submitDisabled=!0,e}return n(o,e),i(o,null,[{key:"properties",get:function(){return{error:{type:Object},output:{type:Object},unsupported:{type:Boolean},publishableKey:{type:String,attribute:"publishable-key"},submitDisabled:{type:Boolean}}}},{key:"styles",get:function(){return y(w())}}]),i(o,[{key:"render",value:function(){return t(S(),void 0===this.unsupported,this.unsupported?"un":"",this.output||this.unsupported,this.onSuccess,this.onFail,this.onError,this.onUnsupported,this.onReady,p(this.publishableKey),this.output||!this.unsupported,p(this.unsupported?this.publishableKey:void 0),this.onChange,this.onSuccess,this.onError,this.output||!this.unsupported,this.submitDisabled,this.onClick,this.output)}},{key:"onChange",value:function(e){var t=e.target,n=t.complete,i=t.hasError;this.submitDisabled=!(n&&!i)}},{key:"onClick",value:function(){this.shadowRoot.querySelector("stripe-elements").submit()}},{key:"onError",value:function(e){var t=e.target.error;this.error=t}},{key:"onFail",value:function(e){this.output=e.detail}},{key:"onReady",value:function(){this.unsupported=!1}},{key:"onSuccess",value:function(e){this.output=e.detail}},{key:"onUnsupported",value:function(){this.unsupported=!0}}]),o}(f)),t(v(),k)}));K.story={},K.story.name="Falling Back to Stripe Elements When Payment Request is Not Supported",K.story.parameters={mdxSource:'() => {\n  if (!customElements.get(\'fallback-form\')) {\n    customElements.define(\'fallback-form\', class PaymentForm extends LitElement {\n      static get properties() {\n        return {\n          error: {\n            type: Object\n          },\n          output: {\n            type: Object\n          },\n          unsupported: {\n            type: Boolean\n          },\n          publishableKey: {\n            type: String,\n            attribute: \'publishable-key\'\n          },\n          submitDisabled: {\n            type: Boolean\n          }\n        };\n      }\n\n      static get styles() {\n        return css`\n              [hidden] { display: none !important; }\n              :host {\n                font-family: "Nunito Sans", -apple-system, ".SFNSText-Regular", "San Francisco", BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Helvetica, Arial, sans-serif;\n                align-items: center;\n                display: grid;\n                grid-gap: 12px;\n                grid-template-areas:\n                  \'support support\'\n                  \'stripe submit\'\n                  \'output output\';\n              }\n              stripe-elements { grid-area: stripe; }\n              stripe-payment-request { grid-area: submit/stripe/stripe/submit; }\n              mwc-button { grid-area: submit; }\n              json-viewer { grid-area: output; }\n              `;\n      }\n\n      constructor() {\n        super();\n        this.submitDisabled = true;\n      }\n\n      render() {\n        return html`\n                <output ?hidden="${this.unsupported === undefined}">Payment Request is ${this.unsupported ? \'un\' : \'\'}supported on this Browser</output>\n                <stripe-payment-request\n                    ?hidden="${this.output || this.unsupported}"\n                    @success="${this.onSuccess}"\n                    @fail="${this.onFail}"\n                    @error="${this.onError}"\n                    @unsupported="${this.onUnsupported}"\n                    @ready="${this.onReady}"\n                    publishable-key="${ifDefined(this.publishableKey)}"\n                    generate="source"\n                    request-payer-name\n                    request-payer-email\n                    request-payer-phone\n                    amount="326"\n                    label="Double Double"\n                    country="CA"\n                    currency="cad">\n                  <stripe-display-item data-amount="125" data-label="Double Double"> </stripe-display-item>\n                  <stripe-display-item data-amount="199" data-label="Box of 10 Timbits"> </stripe-display-item>\n                  <stripe-shipping-option data-id="pick-up" data-label="Pick Up" data-detail="Pick Up at Your Local Timmy\'s" data-amount="0"> </stripe-shipping-option>\n                  <stripe-shipping-option data-id="delivery" data-label="Delivery" data-detail="Timbits to Your Door" data-amount="200"> </stripe-shipping-option>\n                </stripe-payment-request>\n                <stripe-elements\n                    ?hidden="${this.output || !this.unsupported}"\n                    generate="source"\n                    publishable-key="${ifDefined(this.unsupported ? this.publishableKey : undefined)}"\n                    @change="${this.onChange}"\n                    @source="${this.onSuccess}"\n                    @error="${this.onError}"\n                > </stripe-elements>\n                <mwc-button\n                    ?hidden="${this.output || !this.unsupported}"\n                    ?disabled="${this.submitDisabled}"\n                    @click="${this.onClick}"\n                >Submit</mwc-button>\n                <json-viewer .object="${this.output}"> </json-viewer>\n              `;\n      }\n\n      onChange({\n        target: {\n          complete,\n          hasError\n        }\n      }) {\n        this.submitDisabled = !(complete && !hasError);\n      }\n\n      onClick() {\n        this.shadowRoot.querySelector(\'stripe-elements\').submit();\n      }\n\n      onError({\n        target: {\n          error\n        }\n      }) {\n        this.error = error;\n      }\n\n      onFail(event) {\n        this.output = event.detail;\n      }\n\n      onReady() {\n        this.unsupported = false;\n      }\n\n      onSuccess(event) {\n        this.output = event.detail;\n      }\n\n      onUnsupported() {\n        this.unsupported = true;\n      }\n\n    });\n  }\n\n  return html`<fallback-form publishable-key="${publishableKey}"> </fallback-form>`;\n}'};var R={title:"Fallback to Stripe Elements",parameters:{options:{selectedPanel:"storybookjs/docs/panel"}},includeStories:["enterAPublishableKey","fallingBackToStripeElementsWhenPaymentRequestIsNotSupported"]},B={"Enter a Publishable Key":"enterAPublishableKey","Falling Back to Stripe Elements When Payment Request is Not Supported":"fallingBackToStripeElementsWhenPaymentRequestIsNotSupported"};R.parameters=R.parameters||{},R.parameters.docs=o({},R.parameters.docs||{},{page:function(){return d(c,{mdxStoryNameToKey:B,mdxComponentMeta:R},d(C,null))}}),e("default",R);e("__namedExportsOrder",["enterAPublishableKey","fallingBackToStripeElementsWhenPaymentRequestIsNotSupported"])}}}));
//# sourceMappingURL=fallback.stories-5e66bef0.js.map
