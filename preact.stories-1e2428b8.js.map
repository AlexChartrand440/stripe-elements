{"version":3,"file":"preact.stories-1e2428b8.js","sources":["../stories/frameworks/preact.stories.mdx"],"sourcesContent":["import '@power-elements/codesandbox-button';\n\nimport { html, Meta, Story } from '@open-wc/demoing-storybook';\n\n<Meta\n  title=\"Framework Examples/Preact\"\n  parameters={{ options: { selectedPanel: 'storybookjs/docs/panel' } }}\n/>\n\n# `<stripe-elements>`\n\n<Story name=\"stripe-elements\">\n  {html`<codesandbox-button sandbox-id=\"mqskb\"> </codesandbox-button>`}\n</Story>\n\n```jsx\nimport { loadScripts } from \"./loadScripts\";\nimport { render } from \"preact\";\nimport { useState, useRef } from \"preact/hooks\";\nimport { getPropOr, compose } from \"crocks\";\nimport { PUBLISHABLE_KEY } from './config';\nimport \"./style\";\n\nconst isDisabled = ({ complete, empty }) => !complete || empty;\nconst getTarget = getPropOr({}, \"target\");\nconst getDetail = getPropOr(null, \"detail\");\nconst getToken = getPropOr(null, \"token\");\n\nexport default function App() {\n  const stripeRef = useRef(null);\n  const [disabled, setDisabled] = useState(true);\n  const [token, setToken] = useState(null);\n  const [error, setError] = useState(null);\n\n  const onChange = compose(setDisabled, isDisabled, getTarget);\n  const onError = compose(setError, getDetail);\n  const onToken = compose(setToken, getToken);\n\n  const onClick = async () =>\n    stripeRef.current.createToken()\n      .then(getToken)\n      .then(setToken);\n\n  return (\n    <article className=\"App\">\n      <stripe-elements\n        ref={stripeRef}\n        onchange={onChange}\n        onerror={onError}\n        ontoken={onToken}\n        publishable-key={publishableKey}\n      />\n      <mwc-button onClick={onClick} disabled={disabled}>Submit</mwc-button>\n      {(error || token) && <json-viewer object={error || token} />}\n    </article>\n  );\n}\n\nif (typeof window !== \"undefined\") {\n  render(<App />, document.getElementById(\"root\"));\n}\n```\n\n# `<stripe-payment-request>`\n\n<Story name=\"stripe-payment-request\">\n  {html`<codesandbox-button sandbox-id=\"6og3s\"> </codesandbox-button>`}\n</Story>\n\n```jsx\nimport { loadScripts } from \"./loadScripts\";\nimport { render } from \"preact\";\nimport { useState, useRef } from \"preact/hooks\";\nimport { getPropOr, compose } from \"crocks\";\nimport { PUBLISHABLE_KEY } from './config';\nimport \"./style\";\n\nconst getDetail = getPropOr(null, \"detail\");\nconst getPaymentMethod = getPropOr(null, \"paymentMethod\");\n\nexport default function App() {\n  const stripeRef = useRef(null);\n  const [paymentMethod, setPaymentMethod] = useState(null);\n  const [error, setError] = useState(null);\n\n  const onError = compose(setError, getDetail);\n  const onPaymentMethod = compose(setPaymentMethod, getPaymentMethod);\n\n  return (\n    <article className=\"App\">\n      <stripe-payment-request\n        ref={stripeRef}\n        onerror={onError}\n        onpayment-method={onPaymentMethod}\n        publishable-key={publishableKey}\n        generate=\"payment-method\"\n        request-payer-name\n        request-payer-email\n        request-payer-phone\n        amount=\"326\"\n        label=\"Double Double\"\n        country=\"CA\"\n        currency=\"cad\"\n      />\n      {(error || paymentMethod) && <json-viewer object={error || paymentMethod} />}\n    </article>\n  );\n}\n\nif (typeof window !== \"undefined\") {\n  render(<App />, document.getElementById(\"root\"));\n}\n```\n"],"names":["layoutProps","MDXContent","components","props","mdx","mdxType","Meta","title","parameters","options","selectedPanel","parentName","Story","name","html","isMDXComponent","stripeElements","story","mdxSource","stripePaymentRequest","componentMeta","includeStories","mdxStoryNameToKey","docs","page","AddContext","mdxComponentMeta"],"mappings":"sYAeA,MAAMA,EAAc,GAIpB,SAASC,GAAWC,WAClBA,KACGC,WAEIC,EALS,eAKMJ,EAAiBG,GAAOD,WAAYA,EAAYG,QAAQ,cAG5ED,EAACE,GAAKC,MAAM,4BAA4BC,WAAY,CAClDC,QAAS,CACPC,cAAe,2BAEhBL,QAAQ,SACXD,YAAIA,gBAAYO,WAAW,4BAC3BP,EAACQ,GAAMC,KAAK,kBAAkBR,QAAQ,SACvCS,kEAECV,aAAKA,YAAMO,WAAW,OAAU,WACf,66CA+CjBP,YAAIA,gBAAYO,WAAW,mCAC3BP,EAACQ,GAAMC,KAAK,yBAAyBR,QAAQ,SAC9CS,kEAECV,aAAKA,YAAMO,WAAW,OAAU,WACf,0yCAgDrBV,EAAWc,gBAAiB,QAEfC,EAAiB,IACtBF,kEAERE,EAAeC,MAAQ,IACFJ,KAAO,kBAC5BG,EAAeC,MAAMT,WAAa,CAAEU,UAAW,6EAElCC,EAAuB,IAC5BL,kEAERK,EAAqBF,MAAQ,IACFJ,KAAO,yBAClCM,EAAqBF,MAAMT,WAAa,CAAEU,UAAW,uEAErD,MAAME,EAAgB,CAAEb,MAAO,4BAA6BC,WAAY,CACtEC,QAAS,CACPC,cAAe,2BAEhBW,eAAgB,CAAC,iBAAiB,yBAE/BC,EAAoB,mBAAmB,0CAA0C,wBAEvFF,EAAcZ,WAAaY,EAAcZ,YAAc,GACvDY,EAAcZ,WAAWe,KAAO,IAC1BH,EAAcZ,WAAWe,MAAQ,GACrCC,KAAM,IAAMpB,EAACqB,GAAWH,kBAAmBA,EAAmBI,iBAAkBN,GAAehB,EAACH"}