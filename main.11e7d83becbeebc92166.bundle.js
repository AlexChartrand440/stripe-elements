(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(module,exports){module.exports='[![Published on webcomponents.org](https://img.shields.io/badge/webcomponents.org-published-blue.svg)](https://www.webcomponents.org/element/bennypowers/stripe-elements)\n[![Published on npm](https://img.shields.io/npm/v/@power-elements/stripe-elements.svg)](https://www.npmjs.com/package/@power-elements/stripe-elements)\n[![Contact me on Codementor](https://cdn.codementor.io/badges/contact_me_github.svg)](https://www.codementor.io/bennyp?utm_source=github&utm_medium=button&utm_term=bennyp&utm_campaign=github)\n[![Maintainability](https://api.codeclimate.com/v1/badges/b2205a301b0a8bb82d51/maintainability)](https://codeclimate.com/github/bennypowers/stripe-elements/maintainability)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/b2205a301b0a8bb82d51/test_coverage)](https://codeclimate.com/github/bennypowers/stripe-elements/test_coverage)\n[![CircleCI](https://circleci.com/gh/bennypowers/stripe-elements.svg?style=svg)](https://circleci.com/gh/bennypowers/stripe-elements)\n\n# `<stripe-elements>`\n\nCustom element wrapper for Stripe.js v3 Elements that works in shadow DOM. Creates a `card` element √† la https://stripe.com/docs/elements\n\nüë®‚Äçüé® [Storybook Demo](https://bennypowers.dev/stripe-elements) üëÄ\n\n## Installation\n```\nnpm i -S @power-elements/stripe-elements\nnpx @pika/web\n```\n\n## Usage\nYou should make sure to load stripe.js on your app\'s index.html, as per Stripe\'s recommendation, before loading `<stripe-elements>`. If `window.Stripe` is not available when you load up the component, it will fail with a reasonably-polite console warning.\n\n```html\n<script src="https://js.stripe.com/v3/"><\/script>\n```\n\nThen you can add the element to your page.\n\n```html\n<script type="module" src="/web_modules/@power-elements/stripe-elements/stripe-elements.js"><\/script>\n<stripe-elements id="stripe" action="/payment"></stripe-elements>\n<button id="submit" disabled>Submit</button>\n<script>\n  submit.onclick = () => stripe.validate() && stripe.submit();\n  stripe.addEventListener(\'change\', function onChange() {\n    button.disabled = !this.validate()\n  })\n<\/script>\n```\n\nIn a lit-html template\n\n```js\nimport { html, render } from \'/web_modules/lit-html/lit-html.js\';\nimport { PUBLISHABLE_KEY } from \'./config.js\';\nimport \'/web_modules/@power-elements/stripe-elements/stripe-elements.js\';\n\nconst onChange = ({ target: { isComplete, hasError } }) => {\n  document.body.querySelector(\'button\').disabled = !(isComplete && !hasError)\n}\n\nconst onClick = () => document.getElementById(\'stripe\').submit();\n\nconst template = html`\n  <button disabled @click="${onClick}">Get Token</button>\n  <stripe-elements id="stripe"\n      @stripe-change="${onChange}"\n      publishable-key="${PUBLISHABLE_KEY}"\n      action="/payment"\n  ></stripe-elements>\n`\nrender(template, document.body)\n```\n\nIn a Polymer Template\n\n```html\n<paper-input label="Stripe Publishable Key" value="{{key}}"></paper-input>\n\n<stripe-elements id="stripe"\n    stripe-ready="{{ready}}"\n    publishable-key="[[key]]"\n    token="{{token}}"\n></stripe-elements>\n\n<paper-button id="submit"\n    disabled="[[!ready]]"\n    onclick="stripe.submit()">\n  Get Token\n</paper-button>\n\n<paper-toast\n    opened="[[token]]"\n    text="Token received for üí≥ [[token.card.last4]]! ü§ë"\n></paper-toast>\n```\n\n## Styling\n\nA word about nomenclature before we list custom properties and mixins. Stripe v3\nIntroduces \'Stripe Elements\'. These are not custom elements, but rather forms\nhosted by stripe and injected into your page via an iFrame. When we refer to the\n\'Stripe Element\' in this document, we are referring to the hosted Stripe form,\nnot the `<stripe-element>` custom element. But when I mentions the \'element\', I mean the custom element.\n\nThe following custom properties are available for styling the `<stripe-elements>` component:\n\n| Custom property | Description | Default |\n| --- | --- | --- |\n| `--stripe-elements-width` | Min-width of the element | `300px` |\n| `--stripe-elements-height` | Min-width of the element | `50px` |\n| `--stripe-elements-element-padding` | Padding for the element | `14px` |\n| `--stripe-elements-element-background` | Background for the element | `initial` |\n\nWhen you apply CSS to the custom properties below, they\'re parsed and sent to Stripe, who should apply them to the Stripe Element they return in the iFrame.  \n\n- `base` styles are inherited by all other variants.  \n- `complete` styles are applied when the Stripe Element has valid input.  \n- `empty` styles are applied when the Stripe Element has no user input.  \n- `invalid` styles are applied when the Stripe Element has invalid input.\n\nThere are 11 properties for each state that you can set which will be read into the Stripe Element iFrame:\n\n- `--stripe-elements-base-color`\n- `--stripe-elements-base-font-family`\n- `--stripe-elements-base-font-size`\n- `--stripe-elements-base-font-smoothing`\n- `--stripe-elements-base-font-variant`\n- `--stripe-elements-base-icon-color`\n- `--stripe-elements-base-line-height`\n- `--stripe-elements-base-letter-spacing`\n- `--stripe-elements-base-text-decoration`\n- `--stripe-elements-base-text-shadow`\n- `--stripe-elements-base-text-transform`\n\nand likewise `--stripe-elements-complete-color`, etc.\n'},198:function(module,exports,__webpack_require__){__webpack_require__(199),__webpack_require__(277),module.exports=__webpack_require__(278)},278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_polymer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67);__webpack_require__(329);const req=__webpack_require__(411);Object(_storybook_polymer__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(filename=>req(filename))},module)}.call(this,__webpack_require__(155)(module))},411:function(module,exports,__webpack_require__){var map={"./index.stories.js":412};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=411},412:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",function(){return withStorySource}),__webpack_require__.d(__webpack_exports__,"__STORY__",function(){return __STORY__}),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",function(){return __ADDS_MAP__});var _open_wc_demoing_storybook__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(69),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3__),crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91),crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4__),_src_StripeElements_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68),_README_md__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(438),__webpack_require__(129)),_README_md__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_README_md__WEBPACK_IMPORTED_MODULE_7__),withStorySource=__webpack_require__(413).withStorySource,__STORY__="import { storiesOf, html, withKnobs, withClassPropertiesKnobs } from '@open-wc/demoing-storybook';\nimport { color, number, select, text } from '@storybook/addon-knobs';\nimport { action } from '@storybook/addon-actions';\n\nimport compose from 'crocks/helpers/compose';\nimport propOr from 'crocks/helpers/propOr';\n\nimport { StripeElements } from '../src/StripeElements.js';\nimport '../src/stripe-elements.js';\n\nimport readme from '../README.md';\n\nconst getDetail = propOr(null, 'detail');\nconst getValue = propOr(null, 'value');\nconst getError = propOr(null, 'error');\n\nstoriesOf('stripe-elements', module)\n  .addDecorator(withKnobs)\n  .add(\n    'iFrame Styles and Events',\n    () => html`\n      <style>\n        aside {\n          font-size: 18px;\n          font-style: italic;\n        }\n        html {\n          --stripe-elements-width: ${number('Width', 500, { range: true, min: 50, max: 1000 }, 'Element Styles')}px;\n          --stripe-elements-height: ${number('Height', 40, { range: true, min: 10, max: 200 }, 'Element Styles')}px;\n          --stripe-elements-element-padding: ${number(\n            'Padding',\n            4,\n            { range: true, min: 0, max: 100 },\n            'Element Styles'\n          )}px;\n          --stripe-elements-element-background: ${color('Background', '#ffffff', 'Element Styles')};\n          --stripe-elements-base-color: ${color('Color', '#000000', 'iFrame Styles')};\n          --stripe-elements-base-font-family: ${text('Font Family', 'Fira Code', 'iFrame Styles')};\n          --stripe-elements-base-font-size: ${number(\n            'Font Size',\n            14,\n            { range: true, min: 8, max: 144 },\n            'iFrame Styles'\n          )}px;\n          --stripe-elements-base-icon-color: ${color('Icon Color', '#000000', 'iFrame Styles')};\n          --stripe-elements-base-letter-spacing: ${number(\n            'Letter Spacing',\n            0,\n            { range: true, min: -2, max: 20 },\n            'iFrame Styles'\n          )}px;\n          --stripe-elements-base-text-decoration: ${select(\n            'Text Decoration',\n            ['none', 'underline', 'underline wavy green', 'strike-through'],\n            'none',\n            'iFrame Styles'\n          )};\n          --stripe-elements-base-text-shadow: ${text('Text Shadow', '0 0 2px lightgrey', 'iFrame Styles')};\n          --stripe-elements-base-text-transform: ${text('Text Transform', 'uppercase', 'iFrame Styles')};\n        }\n      </style>\n      <stripe-elements\n        publishable-key=\"${text('Publishable Key', 'pk_test_XXXXXXXXXXXXXXXXXXXXXXXX')}\"\n        @stripe-ready=\"${action('stripe-ready')}\"\n        @stripe-change=\"${compose(\n          action('stripe-change'),\n          getDetail\n        )}\"\n        @stripe-token=\"${compose(\n          action('stripe-token'),\n          getDetail\n        )}\"\n        @stripe-error=\"${compose(\n          action('stripe-error'),\n          getError\n        )}\"\n        @brand-changed=\"${compose(\n          action('brand-changed'),\n          getValue,\n          getDetail\n        )}\"\n        @card-changed=\"${compose(\n          action('card-changed'),\n          getValue,\n          getDetail\n        )}\"\n        @publishable-key-changed=\"${compose(\n          action('publishable-key-changed'),\n          getValue,\n          getDetail\n        )}\"\n        @is-empty-changed=\"${compose(\n          action('is-empty-changed'),\n          getValue,\n          getDetail\n        )}\"\n        @is-complete-changed=\"${compose(\n          action('is-complete-changed'),\n          getValue,\n          getDetail\n        )}\"\n        @has-error-changed=\"${compose(\n          action('has-error-changed'),\n          getValue,\n          getDetail\n        )}\"\n      ></stripe-elements>\n      <aside>Apply Your iFrame Styles by Resetting the Publishable Key in the Knobs Panel.</aside>\n    `,\n    { notes: { markdown: readme } }\n  )\n  .add('Documentation', () => withClassPropertiesKnobs(StripeElements), { notes: { markdown: readme } });\n",__ADDS_MAP__={"stripe-elements--documentation":{startLoc:{col:7,line:112},endLoc:{col:103,line:112}},"stripe-elements--iframe-styles-and-events":{startLoc:{col:4,line:20},endLoc:{col:35,line:110}}};const getDetail=crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4___default()(null,"detail"),getValue=crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4___default()(null,"value"),getError=crocks_helpers_propOr__WEBPACK_IMPORTED_MODULE_4___default()(null,"error");Object(_open_wc_demoing_storybook__WEBPACK_IMPORTED_MODULE_0__.b)("stripe-elements",module).addDecorator(withStorySource(__STORY__,__ADDS_MAP__)).addDecorator(_open_wc_demoing_storybook__WEBPACK_IMPORTED_MODULE_0__.d).add("iFrame Styles and Events",()=>_open_wc_demoing_storybook__WEBPACK_IMPORTED_MODULE_0__.a`
      <style>
      aside {
        font-size: 18px;
        font-style: italic;
      }
      html {
        --stripe-elements-width: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Width",500,{range:!0,min:50,max:1e3},"Element Styles")}px;
        --stripe-elements-height: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Height",40,{range:!0,min:10,max:200},"Element Styles")}px;
        --stripe-elements-element-padding: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Padding",4,{range:!0,min:0,max:100},"Element Styles")}px;
        --stripe-elements-element-background: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.color)("Background","#ffffff","Element Styles")};
        --stripe-elements-base-color: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.color)("Color","#000000","iFrame Styles")};
        --stripe-elements-base-font-family: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Font Family","Fira Code","iFrame Styles")};
        --stripe-elements-base-font-size: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Font Size",14,{range:!0,min:8,max:144},"iFrame Styles")}px;
        --stripe-elements-base-icon-color: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.color)("Icon Color","#000000","iFrame Styles")};
        --stripe-elements-base-letter-spacing: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Letter Spacing",0,{range:!0,min:-2,max:20},"iFrame Styles")}px;
        --stripe-elements-base-text-decoration: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.select)("Text Decoration",["none","underline","underline wavy green","strike-through"],"none","iFrame Styles")};
        --stripe-elements-base-text-shadow: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Text Shadow","0 0 2px lightgrey","iFrame Styles")};
        --stripe-elements-base-text-transform: ${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Text Transform","uppercase","iFrame Styles")};
      }
      </style>
      <stripe-elements
          publishable-key="${Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Publishable Key","pk_test_XXXXXXXXXXXXXXXXXXXXXXXX")}"
          @stripe-ready="${Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("stripe-ready")}"
          @stripe-change="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("stripe-change"),getDetail)}"
          @stripe-token="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("stripe-token"),getDetail)}"
          @stripe-error="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("stripe-error"),getError)}"
          @brand-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("brand-changed"),getValue,getDetail)}"
          @card-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("card-changed"),getValue,getDetail)}"
          @publishable-key-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("publishable-key-changed"),getValue,getDetail)}"
          @is-empty-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("is-empty-changed"),getValue,getDetail)}"
          @is-complete-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("is-complete-changed"),getValue,getDetail)}"
          @has-error-changed="${crocks_helpers_compose__WEBPACK_IMPORTED_MODULE_3___default()(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("has-error-changed"),getValue,getDetail)}"
      ></stripe-elements>
      <aside>Apply Your iFrame Styles by Resetting the Publishable Key in the Knobs Panel.</aside>
    `,{notes:{markdown:_README_md__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("Documentation",()=>Object(_open_wc_demoing_storybook__WEBPACK_IMPORTED_MODULE_0__.c)(_src_StripeElements_js__WEBPACK_IMPORTED_MODULE_5__.a),{notes:{markdown:_README_md__WEBPACK_IMPORTED_MODULE_7___default.a}})}.call(this,__webpack_require__(155)(module))},438:function(module,__webpack_exports__,__webpack_require__){"use strict";var _StripeElements__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68);customElements.define(_StripeElements__WEBPACK_IMPORTED_MODULE_0__.a.is,_StripeElements__WEBPACK_IMPORTED_MODULE_0__.a)},68:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StripeElements});var lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47),lit_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),lit_html_directives_if_defined__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(128);function _classPrivateFieldLooseBase(receiver,privateKey){if(!Object.prototype.hasOwnProperty.call(receiver,privateKey))throw new TypeError("attempted to use private field on non-instance");return receiver}var id=0;function _classPrivateFieldLooseKey(name){return"__private_"+id+++"_"+name}const bubbles=!0,composed=!0,removeEl=el=>{el instanceof Element&&el.remove()},removeAllMounts=host=>host.querySelectorAll('[slot="stripe-card" name="stripe-card"]').forEach(removeEl);function appendTemplate(template,target){const tmp=document.createElement("div");Object(lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(template,tmp);const{firstElementChild:firstElementChild}=tmp;return target.appendChild(firstElementChild),tmp.remove(),firstElementChild}const stripeElementsCustomCssProperties=lit_element__WEBPACK_IMPORTED_MODULE_0__.c`
<style id="stripe-elements-custom-css-properties">
.StripeElement {
  background-color: white;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid transparent;
  box-shadow: 0 1px 3px 0 #e6ebf1;
  -webkit-transition: box-shadow 150ms ease;
  transition: box-shadow 150ms ease;
  min-width: var(--stripe-elements-width, 300px);
  padding: var(--stripe-elements-element-padding, 14px);
  background: var(--stripe-elements-element-background, initial);
}

.StripeElement--focus {
  box-shadow: 0 1px 3px 0 #cfd7df;
}

.StripeElement--invalid {
  border-color: #fa755a;
}

.StripeElement--webkit-autofill {
  background-color: #fefde5 !important;
}
</style>
`,style=lit_element__WEBPACK_IMPORTED_MODULE_0__.b`
:host {
  display: block;
  flex: 1;
  min-width: var(--stripe-elements-width, 300px);
  min-height: var(--stripe-elements-height, 50px);
}
`,stripeCardTemplate=({action:action,id:id,token:token})=>lit_element__WEBPACK_IMPORTED_MODULE_0__.c`
<div slot="stripe-card">
  <form action="${Object(lit_html_directives_if_defined__WEBPACK_IMPORTED_MODULE_2__.a)(action||void 0)}" method="post">
    <div id="${id}" aria-label="Credit or Debit Card"></div>
    <input type="hidden" name="stripeToken" value="${Object(lit_html_directives_if_defined__WEBPACK_IMPORTED_MODULE_2__.a)(token||void 0)}">
  </form>
</div>
`,allowedStyles=["color","fontFamily","fontSize","fontStyle","fontSmoothing","fontVariant","iconColor","lineHeight","letterSpacing","textDecoration","textShadow","textTransform"];function generateRandomMountElementId(){return`stripe-elements-mount-point-${([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c=>(c^crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16))}`}class StripeElements extends lit_element__WEBPACK_IMPORTED_MODULE_0__.a{get brand(){return _classPrivateFieldLooseBase(this,_brand)[_brand]}set brand(_){}get card(){return _classPrivateFieldLooseBase(this,_card)[_card]}set card(_){}get error(){return _classPrivateFieldLooseBase(this,_error)[_error]}set error(_){}get hasError(){return _classPrivateFieldLooseBase(this,_hasError)[_hasError]}set hasError(_){}get isComplete(){return _classPrivateFieldLooseBase(this,_isComplete)[_isComplete]}set isComplete(_){}get isEmpty(){return _classPrivateFieldLooseBase(this,_isEmpty)[_isEmpty]}set isEmpty(_){}get stripeReady(){return _classPrivateFieldLooseBase(this,_stripeReady)[_stripeReady]}set stripeReady(_){}get token(){return _classPrivateFieldLooseBase(this,_token)[_token]}set token(_){}get stripe(){return _classPrivateFieldLooseBase(this,_stripe)[_stripe]}set stripe(_){}get elements(){return _classPrivateFieldLooseBase(this,_elements)[_elements]}set elements(_){}get stripeMount(){return document.getElementById(_classPrivateFieldLooseBase(this,_stripeMountId)[_stripeMountId])}get form(){return this.querySelector("form")}constructor(){super(),Object.defineProperty(this,_setToken,{value:_setToken2}),Object.defineProperty(this,_setStripeReady,{value:_setStripeReady2}),Object.defineProperty(this,_setIsEmpty,{value:_setIsEmpty2}),Object.defineProperty(this,_setIsComplete,{value:_setIsComplete2}),Object.defineProperty(this,_setError,{value:_setError2}),Object.defineProperty(this,_setCard,{value:_setCard2}),Object.defineProperty(this,_setBrand,{value:_setBrand2}),Object.defineProperty(this,_unmountCard,{value:_unmountCard2}),Object.defineProperty(this,_resetMount,{value:_resetMount2}),Object.defineProperty(this,_removeMountPoints,{value:_removeMountPoints2}),Object.defineProperty(this,_publishableKeyChanged,{value:_publishableKeyChanged2}),Object.defineProperty(this,_onReady,{value:_onReady2}),Object.defineProperty(this,_onChange,{value:_onChange2}),Object.defineProperty(this,_mountCard,{value:_mountCard2}),Object.defineProperty(this,_initStripe,{value:_initStripe2}),Object.defineProperty(this,_initShadyDomMount,{value:_initShadyDomMount2}),Object.defineProperty(this,_initShadowDomMounts,{value:_initShadowDomMounts2}),Object.defineProperty(this,_initMountPoints,{value:_initMountPoints2}),Object.defineProperty(this,_handleResponse,{value:_handleResponse2}),Object.defineProperty(this,_handleError,{value:_handleError2}),Object.defineProperty(this,_getStripeElementsStyles,{value:_getStripeElementsStyles2}),Object.defineProperty(this,_fireError,{value:_fireError2}),Object.defineProperty(this,_fire,{value:_fire2}),Object.defineProperty(this,_brand,{writable:!0,value:null}),Object.defineProperty(this,_card,{writable:!0,value:null}),Object.defineProperty(this,_error,{writable:!0,value:null}),Object.defineProperty(this,_hasError,{writable:!0,value:!1}),Object.defineProperty(this,_isComplete,{writable:!0,value:!1}),Object.defineProperty(this,_isEmpty,{writable:!0,value:!0}),Object.defineProperty(this,_stripeReady,{writable:!0,value:!1}),Object.defineProperty(this,_token,{writable:!0,value:null}),Object.defineProperty(this,_stripe,{writable:!0,value:null}),Object.defineProperty(this,_elements,{writable:!0,value:null}),Object.defineProperty(this,_shadowHosts,{writable:!0,value:[]}),Object.defineProperty(this,_stripeMountId,{writable:!0,value:null}),this.action="",this.hideIcon=!1,this.hidePostalCode=!1,this.iconStyle="default",this.value={}}connectedCallback(){super.connectedCallback(),_classPrivateFieldLooseBase(this,_fire)[_fire]("is-complete-changed",this.isComplete),_classPrivateFieldLooseBase(this,_fire)[_fire]("is-empty-changed",this.isEmpty),_classPrivateFieldLooseBase(this,_fire)[_fire]("has-error-changed",this.hasError),_classPrivateFieldLooseBase(this,_fire)[_fire]("brand-changed",this.brand),_classPrivateFieldLooseBase(this,_fire)[_fire]("card-changed",this.card),_classPrivateFieldLooseBase(this,_fire)[_fire]("error-changed",this.error),_classPrivateFieldLooseBase(this,_fire)[_fire]("publishable-key-changed",this.publishableKey),_classPrivateFieldLooseBase(this,_fire)[_fire]("stripe-ready-changed",this.stripeReady),_classPrivateFieldLooseBase(this,_fire)[_fire]("token-changed",this.token),document.getElementById("stripe-elements-custom-css-properties")||appendTemplate(stripeElementsCustomCssProperties,document.head)}render(){const{error:error}=this,{message:errorMessage=""}=error||{};return lit_element__WEBPACK_IMPORTED_MODULE_0__.c`
      <slot id="stripe-slot" name="stripe-card"></slot>
      <div id="error">${errorMessage}</div>
    `}firstUpdated(){_classPrivateFieldLooseBase(this,_initMountPoints)[_initMountPoints]()}updated(changed){if(changed.has("isComplete")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("is-complete-changed",this.isComplete),changed.has("isEmpty")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("is-empty-changed",this.isEmpty),changed.has("hasError")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("has-error-changed",this.hasError),changed.has("brand")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("brand-changed",this.brand),changed.has("card")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("card-changed",this.card),changed.has("stripeReady")&&_classPrivateFieldLooseBase(this,_fire)[_fire]("stripe-ready-changed",this.stripeReady),changed.has("publishableKey")&&(_classPrivateFieldLooseBase(this,_fire)[_fire]("publishable-key-changed",this.publishableKey),_classPrivateFieldLooseBase(this,_publishableKeyChanged)[_publishableKeyChanged](this.publishableKey)),changed.has("token")){const{token:token}=this;_classPrivateFieldLooseBase(this,_fire)[_fire]("token-changed",token),this.dispatchEvent(new CustomEvent("stripe-token",{bubbles:bubbles,composed:composed,detail:token}))}changed.has("error")&&(_classPrivateFieldLooseBase(this,_fire)[_fire]("error-changed",this.error),_classPrivateFieldLooseBase(this,_fireError)[_fireError](this.error))}isPotentiallyValid(){return!this.isComplete&&!this.isEmpty&&!this.hasError||this.validate()}reset(){_classPrivateFieldLooseBase(this,_setError)[_setError](null),this.card&&this.card.clear()}submit(){if(!this.stripe)throw new Error("Cannot submit before initializing Stripe");if(this.isComplete)return this.stripe.createToken(_classPrivateFieldLooseBase(this,_card)[_card],this.cardData).then(_classPrivateFieldLooseBase(this,_handleResponse)[_handleResponse].bind(this)).catch(_classPrivateFieldLooseBase(this,_handleError)[_handleError].bind(this))}validate(){const{isComplete:isComplete,isEmpty:isEmpty,hasError:hasError,error:error}=this,isValid=!hasError&&isComplete&&!isEmpty;return isValid||hasError||_classPrivateFieldLooseBase(this,_setError)[_setError](isEmpty?"Credit Card information is empty.":"Credit card information is incomplete."),isValid}}var _brand=_classPrivateFieldLooseKey("brand"),_card=_classPrivateFieldLooseKey("card"),_error=_classPrivateFieldLooseKey("error"),_hasError=_classPrivateFieldLooseKey("hasError"),_isComplete=_classPrivateFieldLooseKey("isComplete"),_isEmpty=_classPrivateFieldLooseKey("isEmpty"),_stripeReady=_classPrivateFieldLooseKey("stripeReady"),_token=_classPrivateFieldLooseKey("token"),_stripe=_classPrivateFieldLooseKey("stripe"),_elements=_classPrivateFieldLooseKey("elements"),_shadowHosts=_classPrivateFieldLooseKey("shadowHosts"),_stripeMountId=_classPrivateFieldLooseKey("stripeMountId"),_fire=_classPrivateFieldLooseKey("fire"),_fireError=_classPrivateFieldLooseKey("fireError"),_getStripeElementsStyles=_classPrivateFieldLooseKey("getStripeElementsStyles"),_handleError=_classPrivateFieldLooseKey("handleError"),_handleResponse=_classPrivateFieldLooseKey("handleResponse"),_initMountPoints=_classPrivateFieldLooseKey("initMountPoints"),_initShadowDomMounts=_classPrivateFieldLooseKey("initShadowDomMounts"),_initShadyDomMount=_classPrivateFieldLooseKey("initShadyDomMount"),_initStripe=_classPrivateFieldLooseKey("initStripe"),_mountCard=_classPrivateFieldLooseKey("mountCard"),_onChange=_classPrivateFieldLooseKey("onChange"),_onReady=_classPrivateFieldLooseKey("onReady"),_publishableKeyChanged=_classPrivateFieldLooseKey("publishableKeyChanged"),_removeMountPoints=_classPrivateFieldLooseKey("removeMountPoints"),_resetMount=_classPrivateFieldLooseKey("resetMount"),_unmountCard=_classPrivateFieldLooseKey("unmountCard"),_setBrand=_classPrivateFieldLooseKey("setBrand"),_setCard=_classPrivateFieldLooseKey("setCard"),_setError=_classPrivateFieldLooseKey("setError"),_setIsComplete=_classPrivateFieldLooseKey("setIsComplete"),_setIsEmpty=_classPrivateFieldLooseKey("setIsEmpty"),_setStripeReady=_classPrivateFieldLooseKey("setStripeReady"),_setToken=_classPrivateFieldLooseKey("setToken");StripeElements.is="stripe-elements",StripeElements.properties={action:{type:String},brand:{type:String},card:{type:Object},cardData:{type:Object},error:{type:String},hasError:{type:Boolean,attribute:"has-error",reflect:!0},isComplete:{type:Boolean,attribute:"is-complete",reflect:!0},isEmpty:{type:Boolean,attribute:"is-empty",reflect:!0},hideIcon:{type:Boolean,attribute:"hide-icon"},hidePostalCode:{type:Boolean,attribute:"hide-postal-code"},iconStyle:{type:String,attribute:"icon-style"},publishableKey:{type:String,attribute:"publishable-key"},stripeReady:{type:Boolean,attribute:"stripe-ready",reflect:!0},token:{type:Object},value:{type:Object},stripe:{type:Object},elements:{type:Object}},StripeElements.styles=[style];var _fire2=function _fire2(type,value){const detail=value?{value:value}:void 0;this.dispatchEvent(new CustomEvent(type,{bubbles:bubbles,composed:composed,detail:detail}))},_fireError2=function _fireError2(error){this.dispatchEvent(new ErrorEvent("stripe-error",{bubbles:bubbles,composed:composed,error:error}))},_getStripeElementsStyles2=function _getStripeElementsStyles2(){const computedStyle=window.ShadyCSS?null:getComputedStyle(this);return allowedStyles.reduce((acc,style)=>{const dash=style.replace(/([A-Z])/g,g=>`-${g[0].toLowerCase()}`);return Object.keys(acc).forEach(prefix=>{acc[prefix][style]=(window.ShadyCSS?ShadyCSS.getComputedStyleValue(this,`--stripe-elements-${prefix}-${dash}`):computedStyle.getPropertyValue(`--stripe-elements-${prefix}-${dash}`))||void 0}),acc},{base:{},complete:{},empty:{},invalid:{}})},_handleError2=function _handleError2(error){_classPrivateFieldLooseBase(this,_setError)[_setError](error.message)},_handleResponse2=function _handleResponse2(response){return response.error?_classPrivateFieldLooseBase(this,_setError)[_setError](response.error):(_classPrivateFieldLooseBase(this,_setToken)[_setToken](response.token),this.action&&this.querySelector("form").submit()),response},_initMountPoints2=function _initMountPoints2(){this.stripeMount||(window.ShadyDOM?_classPrivateFieldLooseBase(this,_initShadyDomMount)[_initShadyDomMount]():_classPrivateFieldLooseBase(this,_initShadowDomMounts)[_initShadowDomMounts]())},_initShadowDomMounts2=function _initShadowDomMounts2(){let host=this;for(_classPrivateFieldLooseBase(this,_shadowHosts)[_shadowHosts]=[this];host=host.getRootNode().host;)_classPrivateFieldLooseBase(this,_shadowHosts)[_shadowHosts].push(host);const{action:action,token:token}=this;_classPrivateFieldLooseBase(this,_stripeMountId)[_stripeMountId]=generateRandomMountElementId();const id=_classPrivateFieldLooseBase(this,_stripeMountId)[_stripeMountId],mountTemplate=stripeCardTemplate({action:action,id:id,token:token}),slotTemplate=lit_element__WEBPACK_IMPORTED_MODULE_0__.c`<slot slot="stripe-card" name="stripe-card"></slot>`;appendTemplate(mountTemplate,_classPrivateFieldLooseBase(this,_shadowHosts)[_shadowHosts].pop()),_classPrivateFieldLooseBase(this,_shadowHosts)[_shadowHosts].forEach(host=>appendTemplate(slotTemplate,host))},_initShadyDomMount2=function _initShadyDomMount2(){const{action:action,token:token}=this;_classPrivateFieldLooseBase(this,_stripeMountId)[_stripeMountId]=generateRandomMountElementId();const id=_classPrivateFieldLooseBase(this,_stripeMountId)[_stripeMountId];appendTemplate(stripeCardTemplate({action:action,id:id,token:token}),this)},_initStripe2=function _initStripe2(){const oldStripe=_classPrivateFieldLooseBase(this,_stripe)[_stripe],oldElements=_classPrivateFieldLooseBase(this,_elements)[_elements];if(_classPrivateFieldLooseBase(this,_stripe)[_stripe]&&(_classPrivateFieldLooseBase(this,_stripe)[_stripe]=null),window.Stripe)this.publishableKey?(_classPrivateFieldLooseBase(this,_stripe)[_stripe]=Stripe(this.publishableKey),_classPrivateFieldLooseBase(this,_elements)[_elements]=_classPrivateFieldLooseBase(this,_stripe)[_stripe].elements()):_classPrivateFieldLooseBase(this,_elements)[_elements]=null;else{const message="<stripe-elements> requires Stripe.js to be loaded first.";_classPrivateFieldLooseBase(this,_setError)[_setError]({message:message}),console.warn(message)}this.requestUpdate("stripe",oldStripe),this.requestUpdate("elements",oldElements)},_mountCard2=function _mountCard2(){const{hidePostalCode:hidePostalCode,hideIcon:hideIcon,iconStyle:iconStyle,value:value}=this,style=_classPrivateFieldLooseBase(this,_getStripeElementsStyles)[_getStripeElementsStyles]();_classPrivateFieldLooseBase(this,_setCard)[_setCard](_classPrivateFieldLooseBase(this,_elements)[_elements].create("card",{hideIcon:hideIcon,hidePostalCode:hidePostalCode,iconStyle:iconStyle,style:style,value:value})),_classPrivateFieldLooseBase(this,_card)[_card].mount(this.stripeMount),_classPrivateFieldLooseBase(this,_card)[_card].addEventListener("ready",_classPrivateFieldLooseBase(this,_onReady)[_onReady].bind(this)),_classPrivateFieldLooseBase(this,_card)[_card].addEventListener("change",_classPrivateFieldLooseBase(this,_onChange)[_onChange].bind(this))},_onChange2=function _onChange2(event){const{empty:empty,complete:complete,brand:brand,error:error,value:value}=event;_classPrivateFieldLooseBase(this,_setError)[_setError](error),_classPrivateFieldLooseBase(this,_setBrand)[_setBrand](brand),_classPrivateFieldLooseBase(this,_setIsComplete)[_setIsComplete](complete),_classPrivateFieldLooseBase(this,_setIsEmpty)[_setIsEmpty](empty),this.dispatchEvent(new CustomEvent("stripe-change",{detail:event}))},_onReady2=function _onReady2(event){_classPrivateFieldLooseBase(this,_setStripeReady)[_setStripeReady](!0),_classPrivateFieldLooseBase(this,_fire)[_fire]("stripe-ready")},_publishableKeyChanged2=function _publishableKeyChanged2(publishableKey){_classPrivateFieldLooseBase(this,_unmountCard)[_unmountCard](),_classPrivateFieldLooseBase(this,_setStripeReady)[_setStripeReady](!1),this.stripeMount&&this.form||_classPrivateFieldLooseBase(this,_resetMount)[_resetMount](),_classPrivateFieldLooseBase(this,_initStripe)[_initStripe](),publishableKey&&this.stripe&&_classPrivateFieldLooseBase(this,_mountCard)[_mountCard]()},_removeMountPoints2=function _removeMountPoints2(){_classPrivateFieldLooseBase(this,_shadowHosts)[_shadowHosts].forEach(removeAllMounts),removeEl(this.stripeMount)},_resetMount2=function _resetMount2(){_classPrivateFieldLooseBase(this,_removeMountPoints)[_removeMountPoints](),_classPrivateFieldLooseBase(this,_initMountPoints)[_initMountPoints]()},_unmountCard2=function _unmountCard2(){this.card&&this.card.unmount(),_classPrivateFieldLooseBase(this,_setCard)[_setCard](null)},_setBrand2=function _setBrand2(newVal){const oldBrand=_classPrivateFieldLooseBase(this,_brand)[_brand];_classPrivateFieldLooseBase(this,_brand)[_brand]=newVal,this.requestUpdate("brand",oldBrand)},_setCard2=function _setCard2(newVal){const oldCard=_classPrivateFieldLooseBase(this,_card)[_card];_classPrivateFieldLooseBase(this,_card)[_card]=newVal,this.requestUpdate("card",oldCard)},_setError2=function _setError2(newVal){const oldError=_classPrivateFieldLooseBase(this,_error)[_error];_classPrivateFieldLooseBase(this,_error)[_error]=newVal,this.requestUpdate("error",oldError);const oldHasError=_classPrivateFieldLooseBase(this,_hasError)[_hasError];_classPrivateFieldLooseBase(this,_hasError)[_hasError]=!!newVal,this.requestUpdate("hasError",oldHasError)},_setIsComplete2=function _setIsComplete2(newVal){const oldIsComplete=_classPrivateFieldLooseBase(this,_isComplete)[_isComplete];_classPrivateFieldLooseBase(this,_isComplete)[_isComplete]=newVal,this.requestUpdate("isComplete",oldIsComplete)},_setIsEmpty2=function _setIsEmpty2(newVal){const oldIsEmpty=_classPrivateFieldLooseBase(this,_isEmpty)[_isEmpty];_classPrivateFieldLooseBase(this,_isEmpty)[_isEmpty]=newVal,this.requestUpdate("isEmpty",oldIsEmpty)},_setStripeReady2=function _setStripeReady2(newVal){const oldStripeReady=_classPrivateFieldLooseBase(this,_stripeReady)[_stripeReady];_classPrivateFieldLooseBase(this,_stripeReady)[_stripeReady]=newVal,this.requestUpdate("stripeReady",oldStripeReady)},_setToken2=function _setToken2(newVal){const oldToken=_classPrivateFieldLooseBase(this,_token)[_token];_classPrivateFieldLooseBase(this,_token)[_token]=newVal,this.requestUpdate("token",oldToken)}}},[[198,1,2]]]);
//# sourceMappingURL=main.11e7d83becbeebc92166.bundle.js.map